imports:
    - { resource: ../config/default.yml }

framework:
    serializer:
        enabled: true

dreamlex_ticket:
    user_class: Dreamlex\TicketBundle\Tests\Functional\Entity\User
    user_primary_key: id
    media_entity: Dreamlex\TicketBundle\Tests\Functional\Entity\Media

security:
    firewalls:
        test:
            http_digest:
                secret: 'secret'
                realm: 'secure-api'
    providers:            # Required
            # Examples:
            my_in_memory_provider:
                memory:
                    users:
                        test-user:
                            password:           test-user
                            roles:              ROLE_USER
                        test-admin:
                            password:           test-admin
                            roles:              [ROLE_USER, ROLE_ADMIN]
doctrine:
    dbal:
          default_connection: default
          connections:
              default:
                  driver:   pdo_sqlite
                  path:     %kernel.cache_dir%/test.db
    orm:
            auto_generate_proxy_classes: "%kernel.debug%"
            naming_strategy: doctrine.orm.naming_strategy.underscore
            auto_mapping: true

sonata_media:
    class:
        media:  Dreamlex\TicketBundle\Tests\Functional\Entity\Media
    default_context: default
    db_driver: doctrine_orm # or doctrine_mongodb, doctrine_phpcr
    contexts:
        default:  # the default context is mandatory
            providers:
                - sonata.media.provider.dailymotion
                - sonata.media.provider.youtube
                - sonata.media.provider.image
                - sonata.media.provider.file
            formats:
                small: { width: 100 , quality: 70}
                big:   { width: 500 , quality: 70}
        ticket:
            providers:
               - sonata.media.provider.ticket_image
               - sonata.media.provider.file
            formats:
               small: { width: 100 , quality: 100}
               big:   { width: 1200 , quality: 100}

    cdn:
        server:
            path: /uploads/media # http://media.sonata-project.org/

    filesystem:
        local:
            directory:  "%kernel.root_dir%/../web/uploads/media"
            create:     false